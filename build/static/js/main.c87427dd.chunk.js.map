{"version":3,"sources":["generate-id.js","loading.jsx","login.jsx","config.js","hooks.js","signal-bar-icon.jsx","event.jsx","translation.js","day-time.jsx","devices.jsx","devices-container.jsx","device/index.jsx","missing-permission.jsx","users/users.jsx","users/user.jsx","users/index.jsx","DeviceList.jsx","App.js","register-service-worker.js","reducer.js","firebase.js","index.js","store.js"],"names":["crypto","require","base56","baseX","module","exports","byteCount","encode","randomBytes","label","style","display","flex","justifyContent","alignItems","CircularProgress","Typography","marginLeft","compose","withFirebase","connect","auth","firebase","Props","userId","currentUser","uid","ex","undefined","console","log","onClick","provider","GoogleAuthProvider","signInWithPopup","then","result","user","Complete","catch","error","alert","message","GoogeLogin","FIREBASE_CONFIG","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","source","userAgentParser","browser","name","process","VAPID_PUBLIC_KEY","API_URL","Subject","interval","pipe","map","Date","getTime","share","useTime","useState","time","setTime","useEffect","sub","subscribe","newTime","unsubscribe","useUserData","email","userKey","storeKey","useFirestoreConnect","collection","doc","storeAs","useSelector","state","firestore","data","window","navigator","MIN_SIGNAL_DB","BAR_ICONS","SignalCellular0Bar","SignalCellular1Bar","SignalCellular2Bar","SignalCellular3Bar","SignalCellular4Bar","SINGLE_BAR_DB","length","React","ref","SignalBarIcon","rssiDB","props","warn","UnknownIcon","cappedRssiDB","Math","min","max","Error","floor","BusyTrueIcon","color","formatEvent","type","amount","toString","padStart","isAcknowledged","isBusy","isEmpty","isOnline","version","isOpen","id","BanknoteCount","value","flexDirection","marginRight","Banknotes","banknotes","marginTop","marginBottom","event","Icon","NewIcon","AddCashIcon","CreditCard","BusyFalseIcon","OnlineIcon","OfflineIcon","PowerIcon","ResetIcon","AddCreditAdminIcon","LockOpenOutlined","LockOutlined","getEventIcon","isWarning","isEventWarning","popoverAnchor","setPopoverAnchor","variant","noWrap","IconButton","currentTarget","InfoOutlined","Popover","transitionDuration","open","anchorEl","onClose","anchorOrigin","vertical","horizontal","transformOrigin","Intl","RelativeTimeFormat","PluralRules","cardinalRules","relativeTimeFormat","numeric","absoluteTimeFormat","DateTimeFormat","minute","hour","absoluteDayCurrentYearFormat","month","year","day","absoluteDayOtherYearFormat","cardinal","weekday","count","select","SELECTED_DEVICES","SELECTED_USERS","TIME_RELATIVE","now","deltaMilliseconds","deltaSeconds","deltaMinutes","abs","format","trunc","deltaHours","deltaDays","deltaMonths","deltaYears","CURRENT_YEAR","getFullYear","DAY_ABSOLUTE","date","TIME_ABSOLUTE","NAME","timestamp","isDefaultAscending","key","devices","onDeviceClicked","selected","setSelected","selectionLabel","orderBy","setOrderBy","orderAscending","setOrderAscending","STATIC_COLUMNS","span","selectedSet","Set","createDeviceOnClick","Table","TableHead","TableRow","idx","TableCell","colSpan","align","TableSortLabel","active","direction","old","toggleOrderBy","TableBody","lastEvent","isSelected","has","hover","to","padding","toggleSelection","Checkbox","checked","useStyles","makeStyles","theme","highlight","palette","secondary","main","backgroundColor","lighten","light","withRouter","isActive","history","authEmail","hasSelected","size","classes","cb","e","preventDefault","returnValue","addEventListener","removeEventListener","Toolbar","className","Tooltip","title","EventBusy","push","set","add","delete","firestoreConnect","subcollections","device","events","ordered","Button","logout","columns","emails","isAdmin","showAddUser","setShowAddUser","isInvalidEmail","setIsInvalidEmail","newEmail","setNewEmail","closeModal","createViewUserNav","sortedEmails","comparator","isAscending","descSortedData","stable","reverse","sort","sortBy","a","b","localeCompare","sortFunction","trySubmitEmail","isEmail","addUser","deleteEmails","batch","forEach","commit","deleteUsers","Fab","position","right","bottom","Add","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","helperText","onChange","target","onKeyDown","keyCode","autoFocus","margin","fullWidth","DialogActions","userData","useIsUserAdmin","allDevices","firestoreDB","useFirestore","isAdminCheckbox","update","FormControlLabel","control","MountedUser","useParams","match","path","url","component","exact","Users","Router","BrowserRouter","DeviceList","AppBar","Link","edge","Home","SupervisorAccount","Avatar","width","height","Menu","keepMounted","getContentAnchorEl","MenuItem","DevicesContainer","params","Component","App","promptReload","confirm","location","reload","workbox","Workbox","isUpdate","register","firebaseApp","firebaseConfig","protocol","hostname","initializeApp","enablePersistence","synchronizeTabs","connectFirebase","database","store","rootReducer","combineReducers","firebaseReducer","app","appReducer","firestoreReducer","createStore","Main","hot","config","enableLogging","createFirestoreInstance","dispatch","dangerouslySetInnerHTML","__html","ReactDOM","render","currentContainer","document","getElementById","newContainer","createElement","setAttribute","body","appendChild","getAppContainer"],"mappings":"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","file":"static/js/main.c87427dd.chunk.js","sourcesContent":["const crypto = require('crypto');\nconst baseX = require('base-x');\n\nconst base56 = baseX(\n  '23456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz'\n);\n\n// this is the same entropy used by Youtube\n// https://webapps.stackexchange.com/questions/13854/are-youtube-codes-guaranteed-to-always-be-11-characters\nmodule.exports = (byteCount = 8) =>\n  base56.encode(crypto.randomBytes(byteCount));\n","import * as React from 'react';\nimport { CircularProgress, Typography } from '@material-ui/core';\n\nexport default ({ label }) => (\n  <div\n    style={{\n      display: 'flex',\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n    }}\n  >\n    <CircularProgress />\n    <Typography style={{ marginLeft: 12 }}>{label}</Typography>\n  </div>\n);\n","import React,{useState} from 'react';\nimport GoogleButton from 'react-google-button';\nimport { withFirebase, isLoaded, isEmpty } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport Loading from './loading';\nimport { firebase } from '@firebase/app'\nimport { database } from '@firebase/database'\n\n//const Login = ({ firebase, auth }) => {\n\n// if (!isLoaded(auth)) {\n//   return <Loading label=\"Se incarca user-ul\" />;\n// }\n// if (isEmpty(auth)) {\n//   return (\n//     <div\n//       style={{\n//         display: 'flex',\n//         justifyContent: 'center',\n//         alignItems: 'center',\n//       }}\n//     >\n//       <GoogleButton\n//         label=\"Log in cu Google\"\n//         onClick={() => {\n//           firebase.login({ provider: 'google', type: 'popup' });\n//         }}\n//       />\n//     </div>\n//   );\n// }\n\n// return null\n//throw new Error('Already logged in');\n//};\n\nconst Login = (Props) => {\n\n  \n  const GoogeLogin = () => {\n    // Props.Complete({Name:\"Humza\" , Title : \"Wow Page\"  })\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth()\n      .signInWithPopup(provider)\n      .then((result) => {\n        var user = result.user\n        Props.Complete(user)\n      }).catch((error) => {\n        alert(error.message);\n      });\n  }\n\n\n\n  let userId\n  let Logout = false\n\n  try { userId = firebase.auth().currentUser.uid } catch (ex) { userId = undefined }\n  console.log(`User Id :: ${userId}`)\n\n  // if (userId && !Logout) {\n  //   //firebase logout\n  //     alert(userId)\n  //     firebase.auth().signOut().then(()=>{\n  //       alert(userId)\n  //     })\n  //   // Logout = true\n  // }\n\n\n  if (!userId) {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        <GoogleButton\n          label=\"Log in cu Google\"\n          onClick={() => {\n            // firebase.login({ provider: 'google', type: 'popup' });\n            GoogeLogin()\n          }}\n        />\n      </div>\n    );\n  }\n\n  return <div></div>\n\n}\n\nexport default compose(\n  withFirebase,\n  connect(({ firebase: { auth } }) => ({ auth }))\n)(Login);\n","import userAgentParser from 'ua-parser-js';\r\nexport var firebaseConfig = {\r\n    apiKey: \"AIzaSyCnD-xueHVA0gwNjBLUu5hlB8x8jhMMgOw\",\r\n    authDomain: \"kidland-5754b.firebaseapp.com\",\r\n    databaseURL: \"https://kidland-5754b-default-rtdb.firebaseio.com\",\r\n    projectId: \"kidland-5754b\",\r\n    storageBucket: \"kidland-5754b.appspot.com\",\r\n    messagingSenderId: \"291891653552\",\r\n    appId: \"1:291891653552:web:19a1a9a416f4201f0ac475\"\r\n  };\r\n  \r\n\r\nexport const FIREBASE_CONFIG = {\r\n    apiKey: \"AIzaSyDFjBJKK27KVIOSVHuAfsTxxsBv1Eo8Vgs\",\r\n    authDomain: \"abc-best-services.firebaseapp.com\",\r\n    databaseURL: \"https://abc-best-services-default-rtdb.firebaseio.com\",\r\n    projectId: \"abc-best-services\",\r\n    storageBucket: \"abc-best-services.appspot.com\",\r\n    messagingSenderId: \"868747617375\",\r\n    appId: \"1:868747617375:web:119d70071c12bc539ea7ea\"\r\n}\r\nexport const IS_PRODUCTION = process.env.NODE_ENV === 'production';\r\nexport const TRANSACTION_DEBOUNCE_INTERVAL = 30000;\r\nexport const DISABLE_NETWORK = false;\r\nexport const BROWSER_NAME = userAgentParser().browser.name;\r\n/* workaround for https://github.com/webpack/webpack/issues/5392 */\r\n/* eslint-disable prefer-destructuring */\r\nexport const VAPID_PUBLIC_KEY = process.env.VAPID_PUBLIC_KEY;\r\nexport const VERSION = 1.0;\r\nexport const API_URL = process.env.API_URL;\r\n/* eslint-enable prefer-destructuring */\r\n","import { share, map } from 'rxjs/operators';\nimport { interval, Subject } from 'rxjs';\nimport { useSelector } from 'react-redux';\nimport { useFirestoreConnect } from 'react-redux-firebase';\nimport { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport { API_URL } from './config';\n\nexport const refreshAddCreditSubject = new Subject();\n\nexport const refreshAddCreditEvents = () => {\n  refreshAddCreditSubject.next(null);\n};\n\nconst source = interval(1000).pipe(\n  map(() => new Date().getTime()),\n  share()\n);\n\nexport const useTime = () => {\n  const [time, setTime] = useState(new Date().getTime());\n  useEffect(() => {\n    const sub = source.subscribe(newTime => {\n      setTime(newTime);\n    });\n    return () => sub.unsubscribe();\n  }, []);\n  return time;\n};\n\nexport const useLeavePrompt = isActive => {\n  useEffect(() => {\n    if (isActive) {\n      const cb = e => {\n        e.preventDefault();\n        // browsers do not support custom text\n        // https://stackoverflow.com/questions/38879742/is-it-possible-to-display-a-custom-message-in-the-beforeunload-popup\n        e.returnValue = '';\n      };\n      window.addEventListener('beforeunload', cb);\n\n      return () => {\n        window.removeEventListener('beforeunload', cb);\n      };\n    }\n\n    return undefined;\n  }, [isActive]);\n};\n\nexport const useResetReactWindowCache = data => {\n  // https://github.com/bvaughn/react-window/issues/147#issue-414996310\n  const ref = useRef();\n  useEffect(() => {\n    // AutoSizer causes ref not being present on the component mount\n    if (ref.current) {\n      ref.current.resetAfterIndex(0);\n    }\n  }, [data]);\n  return ref;\n};\n\nexport const useUserData = email => {\n  const userKey = `email:${email}`;\n  const storeKey = `userData-${userKey}`;\n  useFirestoreConnect(() => {\n    return email !== null\n      ? [\n          {\n            collection: 'emails',\n            doc: email,\n            storeAs: storeKey,\n          },\n        ]\n      : [];\n  });\n  return useSelector(state => {\n    if (email === null) {\n      return null;\n    }\n    return state.firestore.data[storeKey] || null;\n  });\n};\n\nexport const useSignalData = deviceID => {\n  const storeKey = `deviceSignal-${deviceID}`;\n  useFirestoreConnect(() => [\n    {\n      collection: 'devices',\n      doc: deviceID,\n      orderBy: [['timeSync', 'desc']],\n      subcollections: [{ collection: 'state' }],\n      storeAs: storeKey,\n    },\n  ]);\n  return useSelector(state => {\n    return state.firestore.ordered[storeKey] || [];\n  });\n};\n\nconst notificationPermissionSubject = new Subject();\nconst hasWebPushSupport =\n  'Notification' in window && 'serviceWorker' in window.navigator;\n\nexport const useNotificationPermission = () => {\n  const [notificationPermission, setNotificationPermission] = useState(\n    hasWebPushSupport ? Notification.permission : 'unsupported'\n  );\n  useEffect(() => {\n    const sub = notificationPermissionSubject.subscribe(\n      setNotificationPermission\n    );\n    return () => {\n      sub.unsubscribe();\n    };\n  }, []);\n  return {\n    notificationPermission,\n    triggerPrompt: async () => {\n      if (hasWebPushSupport) {\n        const newPermission = await Notification.requestPermission();\n        notificationPermissionSubject.next(newPermission);\n      }\n    },\n  };\n};\nexport const useIsUserAdmin = email => {\n  const userData = useUserData(email);\n  return userData?.isAdmin || false;\n};\n\nexport const useAuthEmail = () => {\n  return useSelector(state => state.firebase?.auth.email || null);\n};\n\nexport const useLoadUserDevices = email => {\n  const userKey = `email:${email}`;\n  const storeKey = `devices-${userKey}`;\n  useFirestoreConnect(() => [\n    {\n      collection: 'devices',\n      where: [['admins', 'array-contains', userKey]],\n      storeAs: storeKey,\n    },\n  ]);\n  return useSelector(state => state.firestore.ordered[storeKey] || null);\n};\n\nexport const useLoadDeviceAddCreditEvents = deviceID => {\n  const [events, setEvents] = useState([]);\n  const [retryIdx, setRetryIdx] = useState(0);\n  useEffect(() => {\n    const int = setInterval(() => {\n      setRetryIdx(Math.random());\n    }, 5000);\n    const sub = refreshAddCreditSubject.subscribe(() => {\n      setRetryIdx(Math.random());\n    });\n    return () => {\n      clearInterval(int);\n      sub.unsubscribe();\n    };\n  }, []);\n  useEffect(() => {\n    const { CancelToken } = axios;\n    const cancelTokenSource = CancelToken.source();\n    // axios.get(`${API_URL}/add-credit/${deviceID}`, {\n    //     cancelToken: cancelTokenSource.token,\n    //   }).then(it => {\n    //     setEvents(it.data);\n    //   }).catch(e => {});\n\n    return () => {\n      cancelTokenSource.cancel();\n    };\n  }, [deviceID, retryIdx]);\n  return events;\n};\n\nexport const useLoadAllDevices = () => {\n  useFirestoreConnect(() => [\n    {\n      collection: 'devices',\n      storeAs: 'allDevices',\n    },\n  ]);\n  return useSelector(state => state.firestore.ordered.allDevices || null);\n};\n","import * as React from 'react';\nimport {\n  SignalCellular0Bar,\n  SignalCellular1Bar,\n  SignalCellular2Bar,\n  SignalCellular3Bar,\n  SignalCellular4Bar,\n  SignalCellularNull as UnknownIcon,\n} from '@material-ui/icons';\n\nconst MIN_SIGNAL_DB = -109;\nconst MAX_SIGNAL_DB = -53;\n\nconst BAR_ICONS = [\n  SignalCellular0Bar,\n  SignalCellular1Bar,\n  SignalCellular2Bar,\n  SignalCellular3Bar,\n  SignalCellular4Bar,\n];\n\nconst SINGLE_BAR_DB = (MAX_SIGNAL_DB - MIN_SIGNAL_DB + 1) / BAR_ICONS.length;\n\n// workaround to be used in ToolTip, see https://material-ui.com/guides/composition/#caveat-with-refs\nexport default React.forwardRef(({ rssiDB, ...props }, ref) => {\n  let SignalBarIcon;\n  if (typeof rssiDB !== 'number') {\n    console.warn('Missing or invalid rssiDB prop');\n    SignalBarIcon = UnknownIcon;\n  } else {\n    const cappedRssiDB = Math.min(\n      Math.max(rssiDB, MIN_SIGNAL_DB),\n      MAX_SIGNAL_DB\n    );\n    if (cappedRssiDB < MIN_SIGNAL_DB || cappedRssiDB > MAX_SIGNAL_DB) {\n      throw new Error(`Bad bad`);\n    }\n    SignalBarIcon =\n      BAR_ICONS[Math.floor((cappedRssiDB - MIN_SIGNAL_DB) / SINGLE_BAR_DB)];\n  }\n  return <SignalBarIcon {...props} ref={ref} />;\n});\n","import * as React from 'react';\nimport { Typography, IconButton, Popover } from '@material-ui/core';\nimport {\n  Error as BusyFalseIcon,\n  FiberNew as NewIcon,\n  AttachMoney as AddCashIcon,\n  PowerSettingsNew as PowerIcon,\n  Wifi as OnlineIcon,\n  WifiOff as OfflineIcon,\n  RotateLeft as ResetIcon,\n  Help as UnknownIcon,\n  AddCircle as AddCreditAdminIcon,\n  LockOpenOutlined,\n  LockOutlined,\n  CreditCard,\n  InfoOutlined,\n} from '@material-ui/icons';\nimport SignalBarIcon from './signal-bar-icon';\n\n// eslint-disable-next-line react/jsx-props-no-spreading\nconst BusyTrueIcon = props => <BusyFalseIcon {...props} color=\"secondary\" />;\n\nconst isEventWarning = (type, data) => {\n  switch (type) {\n    case 'case-open':\n      return data.isOpen;\n    default:\n      return false;\n  }\n};\nconst getEventIcon = (type, data) => {\n  switch (type) {\n    case 'device-created':\n      return NewIcon;\n    case 'add-cash':\n      return AddCashIcon;\n    case 'add-card':\n      return CreditCard;\n    case 'is-busy':\n      return data.isBusy ? BusyTrueIcon : BusyFalseIcon;\n    case 'hopper-empty':\n      return data.isEmpty ? BusyTrueIcon : BusyFalseIcon;\n    case 'connectivity':\n      return data.isOnline ? OnlineIcon : OfflineIcon;\n    case 'startup':\n      return PowerIcon;\n    case 'reset-credit-total':\n      return ResetIcon;\n    case 'add-credit-admin':\n      if (data.amount !== 0) {\n        return AddCreditAdminIcon;\n      }\n      return ResetIcon;\n    case 'case-open':\n      return data.isOpen ? LockOpenOutlined : LockOutlined;\n    case 'signal':\n      return () => <SignalBarIcon rssiDB={data.rssiDB} />;\n    default:\n      console.error(`Missing icon ${type} for id ${data.id}`);\n      return UnknownIcon;\n  }\n};\nfunction formatEvent(type, data) {\n  switch (type) {\n    case 'device-created':\n      return 'Dispozitiv nou';\n    case 'add-cash':\n      return `${data.amount.toString().padStart(3, '\\xa0')} RON (cash)`;\n    case 'add-card':\n      return `${data.amount.toString().padStart(3, '\\xa0')} RON (card)`;\n    case 'add-credit-admin':\n      const message =\n        data.amount !== 0\n          ? `${data.amount} RON (add credit)`\n          : 'Resetare acceptor';\n      return data.isAcknowledged ? `${message} ✅` : message;\n    case 'is-busy':\n      return data.isBusy ? 'Eroare acceptor' : 'Acceptor in functiune';\n    case 'hopper-empty':\n      return data.isEmpty ? 'Lipsa jetoane' : 'Jetoane prezente';\n    case 'connectivity':\n      return `${data.isOnline ? 'Online' : 'Offline'}`;\n    case 'startup':\n      if (data.version !== undefined) {\n        return `Start (v${data.version})`;\n      }\n      return `Start`;\n    case 'reset-credit-total':\n      return 'Reset total credit';\n    case 'case-open':\n      return data.isOpen ? 'Carcasa deschisa' : 'Carcasa inchisa';\n    case 'signal':\n      return `Semnal GSM ${data.rssiDB} DB`;\n    default:\n      console.log(`Unknown type ${type} for id ${data.id}`);\n      return 'Eveniment necunoscut';\n  }\n}\nconst BanknoteCount = ({ value, amount, style }) => (\n  <div\n    style={{\n      ...style,\n      display: 'flex',\n      flexDirection: 'column',\n      marginRight: 4,\n      marginLeft: 4,\n    }}\n  >\n    <Typography>{`${value}RON`}</Typography>\n    <Typography>{`${amount}x`}</Typography>\n  </div>\n);\n\nconst Banknotes = ({ banknotes }) => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'row',\n        marginLeft: 4,\n        marginRight: 4,\n        marginTop: 4,\n        marginBottom: 4,\n      }}\n    >\n      <BanknoteCount value=\"1\" amount={banknotes['1']} />\n      <BanknoteCount value=\"5\" amount={banknotes['5']} />\n      <BanknoteCount value=\"10\" amount={banknotes['10']} />\n      <BanknoteCount value=\"50\" amount={banknotes['50']} />\n    </div>\n  );\n};\n\nexport default ({ event, style }) => {\n  const { type, ...data } = event;\n  const Icon = getEventIcon(type, data);\n  const isWarning = isEventWarning(type, data);\n  const [popoverAnchor, setPopoverAnchor] = React.useState(null);\n  const handleInfoClick = event => {\n    setPopoverAnchor(event.currentTarget);\n  };\n  const handleInfoClose = () => {\n    setPopoverAnchor(null);\n  };\n  return (\n    <div\n      style={{\n        ...style,\n        display: 'flex',\n        alignItems: 'center',\n        color: isWarning ? '#c60000' : undefined,\n      }}\n    >\n      <Icon />\n      <Typography variant=\"body2\" noWrap>\n        {formatEvent(type, data)}\n      </Typography>\n      {event.type === 'add-cash' ||\n      (event.type === 'add-card' && event.banknotes !== null) ? (\n        <>\n          <IconButton onClick={handleInfoClick}>\n            <InfoOutlined />\n          </IconButton>\n          <Popover\n            transitionDuration={0}\n            open={popoverAnchor !== null}\n            anchorEl={popoverAnchor}\n            onClose={handleInfoClose}\n            anchorOrigin={{\n              vertical: 'bottom',\n              horizontal: 'center',\n            }}\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'center',\n            }}\n          >\n            <Banknotes banknotes={event.banknotes} />\n          </Popover>\n        </>\n      ) : null}\n    </div>\n  );\n};\n","// todo: use Ponyfill when https://github.com/formatjs/formatjs/issues/201 lands\ndelete Intl.RelativeTimeFormat;\nrequire('@formatjs/intl-relativetimeformat/polyfill');\nrequire('@formatjs/intl-relativetimeformat/locale-data/ro');\n\ndelete Intl.PluralRules;\nrequire('@formatjs/intl-pluralrules/polyfill');\nrequire('@formatjs/intl-pluralrules/locale-data/ro');\n\nconst cardinalRules = new Intl.PluralRules('ro', { type: 'cardinal' });\nconst relativeTimeFormat = new Intl.RelativeTimeFormat('ro', {\n  numeric: 'auto',\n});\nconst absoluteTimeFormat = new Intl.DateTimeFormat('ro', {\n  minute: 'numeric',\n  hour: 'numeric',\n});\n\nconst absoluteMonthCurrentYearFormat = new Intl.DateTimeFormat('ro', {\n  month: 'long',\n});\n\nconst absoluteMonthOtherYearFormat = new Intl.DateTimeFormat('ro', {\n  month: 'long',\n  year: 'numeric',\n});\n\nconst absoluteDayCurrentYearFormat = new Intl.DateTimeFormat('ro', {\n  day: 'numeric',\n  month: 'long',\n});\n\nconst absoluteDayOtherYearFormat = new Intl.DateTimeFormat('ro', {\n  day: 'numeric',\n  month: 'long',\n  year: 'numeric',\n});\n\nconst absoluteDayWeekFormat = new Intl.DateTimeFormat('ro', {\n  weekday: 'long',\n});\n\nconst cardinal = count => cardinalRules.select(count);\n\nexport const SELECTED_DEVICES = count => {\n  switch (cardinal(count)) {\n    case 'one':\n      return `${count} dispozitiv selectat`;\n    case 'few':\n      return `${count} dispozitive selectate`;\n    case 'other':\n      return `${count} de dispozitive selectate`;\n    default:\n      throw new Error();\n  }\n};\n\nexport const SELECTED_USERS = count => {\n  switch (cardinal(count)) {\n    case 'one':\n      return `${count} utilizator selectat`;\n    case 'few':\n      return `${count} utilizatori selectati`;\n    case 'other':\n      return `${count} de utilizatori selectati`;\n    default:\n      throw new Error();\n  }\n};\n\nexport const TIME_RELATIVE = (time, now = new Date().getTime()) => {\n  const deltaMilliseconds = time - now;\n  const deltaSeconds = deltaMilliseconds / 1000;\n  const deltaMinutes = deltaSeconds / 60;\n  if (Math.abs(deltaMinutes) < 1) {\n    return relativeTimeFormat.format(Math.trunc(deltaSeconds), 'second');\n  }\n  const deltaHours = deltaMinutes / 60;\n  if (Math.abs(deltaHours) < 1) {\n    return relativeTimeFormat.format(Math.trunc(deltaMinutes), 'minute');\n  }\n  const deltaDays = deltaHours / 24;\n  if (Math.abs(deltaDays) < 1) {\n    return relativeTimeFormat.format(Math.trunc(deltaHours), 'hour');\n  }\n  const deltaMonths = deltaDays / (365 / 12);\n  if (Math.abs(deltaMonths) < 1) {\n    return relativeTimeFormat.format(Math.trunc(deltaDays), 'day');\n  }\n  const deltaYears = deltaMonths / 12;\n  if (Math.abs(deltaYears) < 1) {\n    return relativeTimeFormat.format(Math.trunc(deltaMonths), 'month');\n  }\n  return relativeTimeFormat.format(Math.trunc(deltaYears), 'year');\n};\n\n// todo: cap intervals at beginning of month/day for last month, last day, last year\nexport const DAY_RELATIVE = (time, now = new Date().getTime()) => {\n  const midnight = new Date(time);\n  midnight.setHours(0, 0, 0, 0);\n  const timestamp = midnight.getTime();\n\n  const deltaMilliseconds = timestamp - now;\n  const deltaSeconds = deltaMilliseconds / 1000;\n  const deltaMinutes = deltaSeconds / 60;\n  const deltaHours = deltaMinutes / 60;\n  const deltaDays = deltaHours / 24;\n  const deltaMonths = deltaDays / (365 / 12);\n\n  if (Math.abs(deltaMonths) < 1) {\n    return relativeTimeFormat.format(Math.trunc(deltaDays), 'day');\n  }\n  const deltaYears = deltaMonths / 12;\n  if (Math.abs(deltaYears) < 1) {\n    return relativeTimeFormat.format(Math.trunc(deltaMonths), 'month');\n  }\n  return relativeTimeFormat.format(Math.trunc(deltaYears), 'year');\n};\n\nconst CURRENT_YEAR = new Date().getFullYear();\n\nexport const MONTH_ABSOLUTE = time => {\n  const date = new Date(time);\n  const absoluteDateFormat =\n    date.getFullYear() === CURRENT_YEAR\n      ? absoluteMonthCurrentYearFormat\n      : absoluteMonthOtherYearFormat;\n  return absoluteDateFormat.format(date);\n};\n\nexport const DAY_WEEK = time => {\n  const date = new Date(time);\n  return absoluteDayWeekFormat.format(date);\n};\n\nexport const DAY_ABSOLUTE = time => {\n  const date = new Date(time);\n  const absoluteDateFormat =\n    date.getFullYear() === CURRENT_YEAR\n      ? absoluteDayCurrentYearFormat\n      : absoluteDayOtherYearFormat;\n  return absoluteDateFormat.format(date);\n};\n\nexport const DAY_TIME_ABSOLUTE = time => {\n  const date = new Date(time);\n  return absoluteTimeFormat.format(date);\n};\n\nexport const TIME_ABSOLUTE = time => {\n  const date = new Date(time);\n  return `${DAY_ABSOLUTE(date)} ${absoluteTimeFormat.format(date)}`;\n};\n\nexport const NAME = 'Denumire';\nexport const EMAIL = 'Email';\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { useTime } from './hooks';\nimport { TIME_RELATIVE, TIME_ABSOLUTE } from './translation';\n\nexport default ({ timestamp, style }) => {\n  const now = useTime();\n\n  return (\n    <div\n      style={{\n        ...style,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n      }}\n    >\n      <Typography variant=\"body2\" noWrap>\n        {TIME_RELATIVE(timestamp, now)}\n      </Typography>\n      <Typography variant=\"subtitle2\" noWrap>\n        {TIME_ABSOLUTE(timestamp)}\n      </Typography>\n    </div>\n  );\n};\n","import * as React from 'react';\nimport {\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  Typography,\n} from '@material-ui/core';\n\nimport { Link } from 'react-router-dom';\nimport { Error as BusyFalseIcon } from '@material-ui/icons';\n\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport stable from 'stable';\nimport { connect } from 'react-redux';\nimport Event from './event';\nimport Loading from './loading';\nimport { NAME } from './translation';\nimport Time from './day-time';\nimport { useIsUserAdmin } from './hooks';\n\nconst BusyTrueIcon = props => <BusyFalseIcon {...props} color=\"secondary\" />;\n\nconst isDefaultAscending = key => {\n  switch (key) {\n    case 'name':\n    case 'isBusy':\n      return false;\n    default:\n      return true;\n  }\n};\n\nconst sortFunction = (sortBy, selected) => {\n  switch (sortBy) {\n    case 'isSelected': {\n      const isSelected = selected.reduce((acc, value) => {\n        return { ...acc, [value]: true };\n      }, {});\n      return (a, b) =>\n        (isSelected[a.id] === true ? 1 : 0) -\n        (isSelected[b.id] === true ? 1 : 0);\n    }\n    case 'name':\n      return (a, b) => a.name.localeCompare(b.name);\n    case 'isBusy':\n      return (a, b) => {\n        return a.isBusy !== b.isBusy ? 1 : -1;\n      };\n    case 'lastEvent':\n      return (a, b) =>\n        a.lastEvent.timeSync.toMillis() - b.lastEvent.timeSync.toMillis();\n    default:\n      throw new Error(`Unknown sort ${sortBy}`);\n  }\n};\n\n// const sort = (data, comparator, isAscending) => {\n//   const descSortedData = stable(data, comparator);\n//   return isAscending ? descSortedData.reverse() : descSortedData;\n// };\n\nconst Devices = ({\n  devices,\n  onDeviceClicked,\n  selected,\n  setSelected,\n  selectionLabel = '',\n  auth,\n}) => {\n\n\n  // const isAdmin = useIsUserAdmin(auth?.email || null);\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [orderAscending, setOrderAscending] = React.useState(\n    isDefaultAscending(orderBy)\n  );\n\n  const STATIC_COLUMNS = [\n    { key: 'name', label: NAME },\n    { key: 'isBusy', label: 'Stare dispozitiv' },\n    { key: 'lastEvent', label: 'Ultimul Eveniment', span: 2 },\n  ];\n\n  const selectedSet = new Set(selected);\n  // if (devices === null) {\n  //   return <Loading label=\"Se incarca lista de dispozitive\" />;\n  // }\n\n  //alert(\"here1\")\n\n  //   if (devices.length === 0) {\n  if (false) {\n    let text;\n    // if (isAdmin)\n    if (false) {\n      text = (\n        <Typography align=\"center\">\n          {\n            'Nu aveti dispozitive adaugate in cont, puteti sa va adaugati dispozitive din\\xA0'\n          }\n          <Link to=\"/users\">ecranul de administrator</Link>\n        </Typography>\n      );\n    } else {\n      text = (\n        <Typography>\n          Nu aveti dispozitive adaugate in cont, contactati un administrator\n        </Typography>\n      );\n    }\n\n\n\n\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center',\n          padding: 16,\n        }}\n      >\n        {\"text\"}\n      </div>\n    );\n  }\n  //alert(\"here2\")\n\n  const toggleOrderBy = key => {\n    if (orderBy === key) {\n      setOrderAscending(old => !old);\n    } else {\n      setOrderBy(key);\n      setOrderAscending(isDefaultAscending(key));\n    }\n  };\n\n  const toggleSelection = id => {\n    setSelected(id, !selectedSet.has(id));\n  };\n\n  const createDeviceOnClick = (id) =>\n    onDeviceClicked ? () => onDeviceClicked(id) : null;\n\n    // axios.get('http://localhost:5000/api/devices').then((res)=>{\n    //   this.setState({res.data})\n    // })\n\n  const sortedDevices = [\n    { name: \"BucuResti AFI\", id: \"123\", isBusy: true, lastEvent: 5 },\n    { name: \"Carrefour Militan\", id: \"124\", isBusy: true, lastEvent: 7 },\n    { name: \"Carousel DN\", id: \"125\", isBusy: true, lastEvent: 7 },\n    { name: \"RC2 Pallady\", id: \"126\", isBusy: true, lastEvent: 7 }\n  ]\n\n  // const sortedDevices = sort(\n  //   devices,\n  //   sortFunction(orderBy, selected),\n  //   orderAscending\n  // );\n\n  // return (<h1>hello</h1>)\n\n  return (\n    <Table>\n      {/* <pre>{JSON.stringify([...selected], null, '\\t')}</pre> */}\n      <TableHead>\n        <TableRow>\n          {[\n            { key: 'isSelected', label: selectionLabel },\n            ...STATIC_COLUMNS,\n          ].map(({ key, label, span = 1 }, idx) => (\n            <TableCell\n              key={key}\n              colSpan={span}\n              align={idx === STATIC_COLUMNS.length - 1 ? 'center' : 'inherit'}\n            >\n              <TableSortLabel\n                active={orderBy === key}\n                direction={\n                  (orderBy === key\n                    ? orderAscending\n                    : isDefaultAscending(key))\n                    ? 'asc'\n                    : 'desc'\n                }\n                onClick={() => toggleOrderBy(key)}\n              >\n                {label}\n              </TableSortLabel>\n            </TableCell>\n          ))}\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {sortedDevices.map(({ name, id, isBusy, lastEvent }) => {\n          const isSelected = selectedSet.has(id);\n          return (\n            <TableRow key={id} hover selected={isSelected} to={`/device/${id}`}>\n              <TableCell padding=\"checkbox\" onClick={() => toggleSelection(id)}>\n                <Checkbox checked={isSelected} />\n              </TableCell>\n              <TableCell onClick={createDeviceOnClick(id)}>\n                <Typography noWrap>{name}</Typography>\n              </TableCell>\n              <TableCell onClick={createDeviceOnClick(id)}>\n                {isBusy ? <BusyTrueIcon /> : null}\n              </TableCell>\n              <TableCell onClick={createDeviceOnClick(id)} padding=\"none\">\n                <Event event={lastEvent} />\n              </TableCell>\n              <TableCell onClick={createDeviceOnClick(id)} padding=\"none\">\n                <Time timestamp={lastEvent} />\n                {/* <Time timestamp={lastEvent.timeSync.toMillis()} /> */}\n              </TableCell>\n            </TableRow>\n          );\n        })}\n      </TableBody>\n    </Table>\n  );\n};\n\nexport default connect(({ firebase: { auth } }) => ({\n  auth,\n}))(Devices);\n","import * as React from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport {\n  Toolbar,\n  Typography,\n  Tooltip,\n  IconButton,\n  makeStyles,\n} from '@material-ui/core';\nimport { lighten } from '@material-ui/core/styles';\nimport { EventBusy as EventBusyIcon } from '@material-ui/icons';\nimport { useLeavePrompt, useLoadUserDevices } from './hooks';\nimport Devices from './devices';\nimport { SELECTED_DEVICES } from './translation';\n\nconst useStyles = makeStyles(theme => ({\n  highlight: {\n    color: theme.palette.secondary.main,\n    backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n  },\n}));\n\nexport default compose(\n  withRouter,\n\n  // connect(state => ({\n  //   devices: state.firestore.ordered.devices || null,\n  //   authEmail: state.firebase.auth.email || null,\n  // })\n  \n  // )\n\n\n)(({ history, authEmail }) => {\n\n  const [selected, setSelected] = React.useState(new Set());\n  const hasSelected = selected.size > 0;\n  const classes = useStyles();\n  // const devices = useLoadUserDevices(authEmail);\n\n  useLeavePrompt(hasSelected);\n  const onDeviceClicked = id => history.push(`/device/${id}`);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\n\n      <Toolbar className={hasSelected ? classes.highlight : undefined}>\n        <Typography variant=\"h6\" id=\"tableTitle\">\n          {hasSelected ? SELECTED_DEVICES(selected.size) : 'Dispozitive'}\n        </Typography>\n        {hasSelected ? (\n          <>\n            <Tooltip title=\"Sterge evenimente\">\n              <IconButton>\n                <EventBusyIcon />\n              </IconButton>\n            </Tooltip>\n          </>\n        ) : null}\n      </Toolbar>\n\n      <Devices\n        onDeviceClicked={onDeviceClicked}\n        // devices={devices}\n        selected={[...selected]}\n        setSelected={(id, state) => {\n          setSelected(old => {\n            const set = new Set(old);\n            if (state) {\n              set.add(id);\n            } else {\n              set.delete(id);\n            }\n            return set;\n          });\n        }}\n      />\n      \n    </div>\n  );\n});\n","import * as React from 'react';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport {\n  TextField,\n  Tab,\n  Tabs,\n  Button,\n  Typography,\n  Tooltip,\n} from '@material-ui/core';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport Loading from '../loading';\nimport { NAME } from '../translation';\nimport DeviceEvents from './events';\nimport CashMonthly from './cash-monthly';\nimport CashTransaction from './cash-transaction';\nimport Notifications from './notifications';\nimport DayTime from '../day-time';\nimport SignalBarIcon from '../signal-bar-icon';\nimport GsmSignal from './gsm-signal';\nimport { useLoadDeviceAddCreditEvents } from '../hooks';\nimport { addCredit } from '../user-api';\n\nconst generateID = require('../generate-id');\n\nconst Device = ({\n  firestore,\n  device,\n  id: deviceID,\n  events: firestoreEvents,\n}) => {\n  //if (device === null || firestoreEvents === null) {\n    return <Loading label=\"Se incarca dispozitivul\" />;\n // }\n\n  const [addCreditValue, setAddCreditValue] = React.useState(5);\n  const baseURL = useRouteMatch().url;\n  const addCreditEvents = useLoadDeviceAddCreditEvents(deviceID).map(\n    ({ id, time, amount, isAcknowledged }) => ({\n      amount,\n      id,\n      timeLocal: firestore.Timestamp.fromMillis(time),\n      timeSync: firestore.Timestamp.fromMillis(time),\n      type: 'add-credit-admin',\n      isAcknowledged,\n    })\n  );\n  const events = [...firestoreEvents, ...addCreditEvents].sort(\n    (a, b) =>\n      (b.timeSync || b.timeLocal).toMillis() -\n      (a.timeSync || a.timeLocal).toMillis()\n  );\n\n  const screens = [\n    {\n      component: DeviceEvents,\n      title: 'Evenimente',\n      path: 'events',\n    },\n    {\n      component: CashMonthly,\n      title: 'Raport Bani Lunar',\n      path: 'cash-report',\n    },\n    {\n      component: CashTransaction,\n      title: 'Raport Bani Tranzactii',\n      path: 'cash-transaction',\n    },\n    {\n      component: Notifications,\n      title: 'Notificari',\n      path: 'notifications',\n    },\n    {\n      component: GsmSignal,\n      title: 'Semnal GSM',\n      path: 'gsm-signal',\n    },\n  ].map(({ component, title, path }) => ({\n    component,\n    title,\n    path,\n    fullPath: `${baseURL}/${path}`,\n  }));\n\n  let startupPath = null;\n  for (const { path, fullPath } of screens) {\n    const match = useRouteMatch({ path: fullPath, exact: path === '/' });\n    if (match !== null) {\n      startupPath = path;\n    }\n  }\n  const [activePath, setActivePath] = React.useState(\n    startupPath !== null ? startupPath : screens[0].path\n  );\n  const ActiveTab = screens.find(({ path }) => path === activePath).component;\n  const deviceRef = firestore.collection('devices').doc(deviceID);\n  const eventsWithResetTotal = [];\n  const deviceMoneyResetTimestamp = device.moneyReset?.toMillis() || 0;\n  let resetTotalCash = 0;\n  let resetTotalCard = 0;\n  for (let i = events.length - 1; i >= 0; i -= 1) {\n    const event = events[i];\n    if (event.type === 'reset-credit-total') {\n      resetTotalCash = 0;\n      resetTotalCard = 0;\n    }\n    if (event.type === 'add-cash') {\n      resetTotalCash += event.amount;\n      eventsWithResetTotal.unshift({\n        ...event,\n        resetTotalCash,\n        resetTotalCard,\n      });\n    } else if (event.type === 'add-card') {\n      resetTotalCard += event.amount;\n      eventsWithResetTotal.unshift({\n        ...event,\n        resetTotalCash,\n        resetTotalCard,\n      });\n    } else {\n      eventsWithResetTotal.unshift(event);\n    }\n  }\n  const deviceWithID = { ...device, id: deviceID };\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', flex: 1 }}>\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          flexWrap: 'wrap',\n        }}\n      >\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            margin: '0 16px',\n          }}\n        >\n          <Tooltip\n            title={\n              typeof device.rssiDB === 'number'\n                ? `${device.rssiDB} db`\n                : 'Semnal GSM necunoscut'\n            }\n          >\n            <SignalBarIcon\n              rssiDB={device.rssiDB}\n              style={{ paddingTop: 24, marginRight: 12 }}\n            />\n          </Tooltip>\n          <TextField\n            label={NAME}\n            value={device.name}\n            onChange={({ target: { value } }) => {\n              deviceRef.update({ name: value });\n            }}\n            margin=\"normal\"\n          />\n          <div style={{ width: 24 }} />\n          <TextField\n            label=\"Adaugare credit\"\n            defaultValue={addCreditValue.toString()}\n            type=\"number\"\n            onChange={({ target: { value } }) => {\n              setAddCreditValue(Number(value));\n            }}\n            margin=\"normal\"\n          />\n          <Button\n            onClick={() => {\n              const confirmed = window.confirm(\n                `Sigur doriti sa adaugati ${addCreditValue} credit pentru ${device.name}?`\n              );\n              if (confirmed) {\n                addCredit(deviceID, Number(addCreditValue));\n              }\n            }}\n          >\n            Adaugare credit\n          </Button>\n        </div>\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            margin: '0 16px',\n          }}\n        >\n          <Button\n            onClick={() => {\n              addCredit(deviceID, 0);\n            }}\n          >\n            Resetare acceptor\n          </Button>\n          <Button\n            onClick={() => {\n              const confirmed = window.confirm(\n                `Sigur doriti sa resetati credit-ul pentru ${device.name}?`\n              );\n              if (confirmed) {\n                const now = firestore.Timestamp.now();\n                deviceRef\n                  .collection('events')\n                  .doc(generateID())\n                  .set({\n                    type: 'reset-credit-total',\n                    timeSync: firestore.FieldValue.serverTimestamp(),\n                    timeLocal: now,\n                  });\n                deviceRef.update({\n                  moneyReset: now,\n                });\n              }\n            }}\n          >\n            Resetare credit\n          </Button>\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n            }}\n          >\n            <Typography align=\"center\" variant=\"subtitle2\">\n              Ultimul reset la credit\n            </Typography>\n            <DayTime\n              timestamp={deviceMoneyResetTimestamp}\n              style={{ alignItems: 'center' }}\n            />\n          </div>\n        </div>\n      </div>\n      <Tabs\n        variant=\"scrollable\"\n        scrollButtons=\"on\"\n        value={activePath}\n        onChange={(_, newPath) => {\n          setActivePath(newPath);\n        }}\n      >\n        {screens.map(({ path, title }) => (\n          <Tab\n            key={path}\n            value={path}\n            component={Link}\n            label={title}\n            to={`${baseURL}/${path}`}\n          />\n        ))}\n      </Tabs>\n      <ActiveTab\n        events={eventsWithResetTotal.map(\n          ({ timeSync, timeLocal, ...event }) => {\n            return { ...event, timeLocal, timeSync: timeSync || timeLocal };\n          }\n        )}\n        device={deviceWithID}\n      />\n    </div>\n  );\n};\n\nexport default compose(\n  firestoreConnect(props => [\n    {\n      collection: 'devices',\n      doc: props.id,\n      storeAs: 'device',\n    },\n    {\n      collection: 'devices',\n      doc: props.id,\n      orderBy: [['timeSync', 'desc']],\n      subcollections: [{ collection: 'events' }],\n      storeAs: 'events',\n    },\n  ]),\n  connect(state => ({\n    device: state.firestore.data.device || null,\n    events: state.firestore.ordered.events || null,\n  }))\n)(Device);\n","import * as React from 'react';\nimport { Typography, Button } from '@material-ui/core';\nimport { withFirebase } from 'react-redux-firebase';\n\nconst MissingPermission = ({ firebase }) => (\n  <div\n    style={{\n      display: 'flex',\n      flex: 1,\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n    }}\n  >\n    <Typography style={{ marginBottom: 12 }}>\n      Acest cont nu are permisione pentru a vizualiza datele\n    </Typography>\n    <Button\n      variant=\"contained\"\n      color=\"primary\"\n      onClick={() => {\n        firebase.logout();\n      }}\n    >\n      Log out\n    </Button>\n  </div>\n);\n\nexport default withFirebase(MissingPermission);\n","import * as React from 'react';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { isEmail } from 'validator';\nimport {\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  Typography,\n  Toolbar,\n  Tooltip,\n  IconButton,\n  Fab,\n  Dialog,\n  DialogTitle,\n  DialogContentText,\n  TextField,\n  DialogContent,\n  DialogActions,\n  Button,\n  Checkbox,\n  makeStyles,\n} from '@material-ui/core';\nimport { EventBusy as EventBusyIcon, Add } from '@material-ui/icons';\nimport { lighten } from '@material-ui/core/styles';\n\nimport { withRouter } from 'react-router-dom';\n\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport stable from 'stable';\nimport { EMAIL, SELECTED_USERS } from '../translation';\nimport Loading from '../loading';\n\nconst isDefaultAscending = (key) => {\n  switch (key) {\n    case 'email':\n    case 'isAdmin':\n      return false;\n    default:\n      return true;\n  }\n};\n\nconst sortFunction = sortBy => {\n  switch (sortBy) {\n    case 'email':\n      return (a, b) => a.email.localeCompare(b.name);\n    case 'isAdmin':\n      return (a, b) => {\n        return a.isAdmin !== b.isAdmin ? 1 : -1;\n      };\n    default:\n      throw new Error(`Unknown sort ${sortBy}`);\n  }\n};\n\n\nconst sort = (data, comparator, isAscending) => {\n  const descSortedData = stable(data, comparator);\n  return isAscending ? descSortedData.reverse() : descSortedData;\n};\nconst columns = [\n  { key: 'email', label: EMAIL },\n  { key: 'isAdmin', label: 'Administrator' },\n];\n\nconst useStyles = makeStyles(theme => ({\n  highlight: {\n    color: theme.palette.secondary.main,\n    backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n  },\n}));\nconst Users = ({ emails, history, firestore }) => {\n  const addUser = newEmail => {\n    firestore\n      .collection('emails')\n      .doc(newEmail)\n      .set({ isAdmin: false });\n  };\n  const deleteUsers = deleteEmails => {\n    const batch = firestore.batch();\n    deleteEmails.forEach(email => {\n      batch.delete(firestore.collection('emails').doc(email));\n    });\n    batch.commit();\n  };\n  const [showAddUser, setShowAddUser] = React.useState(false);\n  const [isInvalidEmail, setIsInvalidEmail] = React.useState(false);\n  const [newEmail, setNewEmail] = React.useState('');\n\n  const closeModal = () => {\n    setShowAddUser(false);\n    setIsInvalidEmail(false);\n  };\n\n  const classes = useStyles();\n  const [selected, setSelected] = React.useState(new Set());\n  const hasSelected = selected.size > 0;\n  const [orderBy, setOrderBy] = React.useState('email');\n  const [orderAscending, setOrderAscending] = React.useState(\n    isDefaultAscending(orderBy)\n  );\n\n  if (emails === null) {\n    return <Loading label=\"Se incarca lista de dispozitive\" />;\n  }\n\n  const toggleOrderBy = key => {\n    if (orderBy === key) {\n      setOrderAscending(old => !old);\n    } else {\n      setOrderBy(key);\n      setOrderAscending(isDefaultAscending(key));\n    }\n  };\n\n  const toggleSelection = id => {\n    setSelected(old => {\n      const set = new Set(old);\n      if (set.has(id)) {\n        set.delete(id);\n      } else {\n        set.add(id);\n      }\n      return set;\n    });\n  };\n\n  const createViewUserNav = email => () => history.push(`/users/${email}`);\n\n  const sortedEmails = sort(emails, sortFunction(orderBy), orderAscending);\n  const trySubmitEmail = () => {\n    if (isEmail(newEmail)) {\n      addUser(newEmail);\n      setShowAddUser(false);\n    } else {\n      setIsInvalidEmail(true);\n    }\n  };\n  return (\n    <div>\n      <Toolbar className={hasSelected ? classes.highlight : undefined}>\n        <Typography variant=\"h6\" id=\"tableTitle\">\n          {hasSelected ? SELECTED_USERS(selected.size) : 'Utilizatori'}\n        </Typography>\n        {hasSelected ? (\n          <>\n            <Tooltip title=\"Sterge utilizatori\">\n              <IconButton\n                onClick={() => {\n                  deleteUsers([...selected]);\n                  setSelected(old => {\n                    const set = new Set(old);\n                    selected.forEach(email => {\n                      set.delete(email);\n                    });\n                    return set;\n                  });\n                }}\n              >\n                <EventBusyIcon />\n              </IconButton>\n            </Tooltip>\n          </>\n        ) : null}\n      </Toolbar>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell />\n            {columns.map(({ key, label, span = 1 }, idx) => (\n              <TableCell\n                key={key}\n                colSpan={span}\n                align={idx === columns.length - 1 ? 'center' : 'inherit'}\n              >\n                <TableSortLabel\n                  active={orderBy === key}\n                  direction={\n                    (orderBy === key\n                      ? orderAscending\n                      : isDefaultAscending(key))\n                      ? 'asc'\n                      : 'desc'\n                  }\n                  onClick={() => toggleOrderBy(key)}\n                >\n                  {label}\n                </TableSortLabel>\n              </TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {sortedEmails.map(({ email, isAdmin }) => {\n            const isSelected = selected.has(email);\n            return (\n              <TableRow\n                key={email}\n                hover\n                selected={isSelected}\n                to={`/device/${email}`}\n              >\n                <TableCell\n                  padding=\"checkbox\"\n                  onClick={() => toggleSelection(email)}\n                >\n                  <Checkbox checked={isSelected} />\n                </TableCell>\n                <TableCell onClick={createViewUserNav(email)}>\n                  <Typography noWrap>{email}</Typography>\n                </TableCell>\n                <TableCell onClick={createViewUserNav(email)}>\n                  <Typography noWrap>{isAdmin ? 'is admin' : ''}</Typography>\n                </TableCell>\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </Table>\n      <Fab\n        color=\"primary\"\n        style={{ position: 'absolute', right: 16, bottom: 16 }}\n        onClick={() => {\n          setShowAddUser(true);\n        }}\n      >\n        <Add />\n      </Fab>\n\n      <Dialog open={showAddUser} onClose={closeModal}>\n        <DialogTitle>Adaugare user</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Va rog sa adaugati o adresa de email asociata cu un cont Google\n          </DialogContentText>\n          <TextField\n            error={isInvalidEmail}\n            helperText={isInvalidEmail ? 'email invalid' : undefined}\n            onChange={({ target }) => {\n              setNewEmail(target.value);\n              setIsInvalidEmail(false);\n            }}\n            onKeyDown={event => {\n              if (event.keyCode === 13) {\n                trySubmitEmail();\n                event.preventDefault();\n              }\n            }}\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Adresa Email\"\n            type=\"email\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={closeModal}>Anulare</Button>\n          <Button onClick={trySubmitEmail} color=\"primary\">\n            Adaugare\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\nexport default compose(\n  withRouter,\n  connect(state => ({\n    emails:\n      state.firestore.ordered.emails?.map(({ id, isAdmin }) => ({\n        email: id,\n        isAdmin,\n      })) || null,\n  })),\n  firestoreConnect([\n    {\n      collection: 'emails',\n    },\n  ])\n)(Users);\n","import * as React from 'react';\nimport { useFirestore } from 'react-redux-firebase';\nimport { FormControlLabel, Checkbox, Typography } from '@material-ui/core';\nimport { firebase } from '@firebase/app';\nimport Devices from '../devices';\nimport Loading from '../loading';\nimport { useIsUserAdmin, useLoadAllDevices } from '../hooks';\n\nexport default ({ email }) => {\n  const isAdmin = useIsUserAdmin(email);\n\n  const devices = useLoadAllDevices();\n  const firestoreDB = useFirestore();\n  if (devices === null) {\n    return <Loading label=\"Se incarca lista de dispozitive\" />;\n  }\n  const isAdminCheckbox = (\n    <Checkbox\n      checked={isAdmin}\n      onChange={({ target }) => {\n        const userRef = firestoreDB.collection('emails').doc(email);\n        userRef.update({\n          isAdmin: target.checked,\n        });\n      }}\n    />\n  );\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          alignItems: 'center',\n        }}\n      >\n        <Typography style={{ margin: '0 16px' }}>\n          {`Email: ${email}`}\n        </Typography>\n        <FormControlLabel control={isAdminCheckbox} label=\"Administrator\" />\n      </div>\n{/* \n      <Devices\n        selectionLabel=\"Acces permis\"\n        devices={devices}\n        selected={devices\n          .filter(({ admins = [] }) => admins.includes(`email:${email}`))\n          .map(({ id }) => id)}\n        setSelected={(id, state) => {\n          const deviceRef = firestoreDB.collection('devices').doc(id);\n          deviceRef.update({\n            admins: (state\n              ? firebase.firestore.FieldValue.arrayUnion\n              : firebase.firestore.FieldValue.arrayRemove)(`email:${email}`),\n          });\n        }}\n      /> */}\n    </div>\n  );\n};\n","import { Route, Switch, useParams } from 'react-router-dom';\nimport * as React from 'react';\nimport Users from './users';\nimport User from './user';\n\nconst MountedUser = () => {\n  const { email } = useParams();\n  return <User email={email} />;\n};\n// alert(\"users\")\nexport default ({ match }) => {\n  return (\n    <Switch>\n      <Route path={`${match.url}/:email`} component={MountedUser} />\n      <Route path={`${match.url}/`} exact component={Users} />\n    </Switch>\n  );\n};\n\n \n","import React from 'react';\r\nimport GoogleButton from 'react-google-button';\r\nimport firebase from 'firebase'\r\nimport { AppBar, Toolbar, Button, Typography, Avatar, MenuItem, Menu, IconButton, } from '@material-ui/core';\r\nimport { BrowserRouter, HashRouter, Route, Switch, Link, } from 'react-router-dom';\r\nimport { Home, SupervisorAccount } from '@material-ui/icons';\r\nimport Login from './login';\r\nimport DevicesContainer from './devices-container';\r\nimport Device from './device';\r\nimport MissingPermission from './missing-permission';\r\nimport Users from './users';\r\nimport axios from 'axios';\r\n// import WebPushStatus from './web-push-status';\r\nconst Router = BrowserRouter\r\n\r\nclass DeviceList extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <IconButton component={Link} to=\"/\" edge=\"start\" color=\"inherit\">\r\n              <Home />\r\n            </IconButton>\r\n\r\n            {true ? (\r\n              <IconButton\r\n                component={Link}\r\n                to=\"/users\"\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n              >\r\n                <SupervisorAccount />\r\n              </IconButton>\r\n            ) : null}\r\n\r\n            <Typography variant=\"h6\" style={{ flex: 1 }}>\r\n              {\"Awesome App\"}\r\n            </Typography>\r\n            <Button\r\n              color=\"inherit\"\r\n              onClick={({ currentTarget }) => {\r\n                //   setMenuTarget(currentTarget);\r\n              }}\r\n            >\r\n              {/* {userData.displayName} */}\r\n              <Avatar\r\n                //   src={userData.photoURL}\r\n                style={{\r\n                  margin: 10,\r\n                  width: 24,\r\n                  height: 24,\r\n                }}\r\n              />\r\n            </Button>\r\n          </Toolbar>\r\n          {/* <WebPushStatus email={'princehamzi.mine@gmail.com'} /> */}\r\n        </AppBar>\r\n\r\n\r\n        <Menu\r\n          // anchorEl={menuTarget}\r\n          keepMounted\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          getContentAnchorEl={null}\r\n          // open={menuTarget !== null}\r\n          open={false}\r\n        // onClose={() => setMenuTarget(null)}\r\n        >\r\n          <MenuItem\r\n            onClick={() => {\r\n              // setMenuTarget(null);\r\n              // firebaseApp.logout();\r\n            }}\r\n          >\r\n            Log out\r\n          </MenuItem>\r\n        </Menu>\r\n\r\n\r\n\r\n        {false ? (\r\n            <MissingPermission />\r\n          ) : (\r\n            <Switch>\r\n              <Route path=\"/\" exact component={DevicesContainer} />\r\n              <Route path=\"/users\" component={Users} />\r\n              <Route\r\n                path=\"/device/:id\"\r\n                component={({ match }) => <Device id={match.params.id} />}\r\n              />\r\n              <Route component={() => '404'} />\r\n            </Switch>\r\n          )}\r\n\r\n\r\n\r\n      </div>\r\n      </Router>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default DeviceList","import Login from './login'\nimport DeviceList from './DeviceList'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      {/* <Login /> */}\n      <DeviceList />\n    </div>\n  );\n}\n\nexport default App;\n","import { Workbox } from 'workbox-window';\nimport { IS_PRODUCTION, VAPID_PUBLIC_KEY } from './config';\n\nconst promptReload = () => {\n  if (!IS_PRODUCTION) {\n    return;\n  }\n  if (\n    window.confirm(\n      `Se ruleaza o versiune veche a aplicatiei. Apasa OK pentru update.`\n    )\n  ) {\n    window.location.reload();\n  }\n};\nexport default (async () => {\n  if (IS_PRODUCTION && 'serviceWorker' in navigator) {\n    const workbox = new Workbox('/service-worker.js');\n    workbox.addEventListener('installed', ({ isUpdate }) => {\n      if (isUpdate) {\n        promptReload();\n      }\n    });\n    workbox.addEventListener('externalactivated', () => {\n      promptReload();\n    });\n    return await workbox.register();\n  }\n  return null;\n})();\n","export default () => 'test';\n","import { firebase } from '@firebase/app';\nimport '@firebase/auth';\nimport '@firebase/firestore';\nimport { FIREBASE_CONFIG, IS_PRODUCTION, DISABLE_NETWORK } from './config';\n\nlet firebaseApp = null;\nexport default async () => {\n  if (firebaseApp !== null) {\n    return firebaseApp;\n  }\n  let firebaseConfig;\n  if (IS_PRODUCTION && window.location.protocol === 'https:') {\n    // Only works if hosted on Firebase\n    // https://stackoverflow.com/questions/40856179/custom-authdomain-in-firebase\n    firebaseConfig = {\n      ...FIREBASE_CONFIG,\n      authDomain: window.location.hostname,\n    };\n  } else {\n    firebaseConfig = FIREBASE_CONFIG;\n  }\n\n  firebaseApp = firebase.initializeApp(firebaseConfig);\n  const firestoreDB = firebaseApp.firestore();\n  await firestoreDB.enablePersistence({ synchronizeTabs: true });\n  if (DISABLE_NETWORK) {\n    await firestoreDB.disableNetwork();\n  }\n  if (!IS_PRODUCTION) {\n    window.firebase = firebase;\n    window.app = firebaseApp;\n    window.firestoreDB = firestoreDB;\n  }\n  return firebase;\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\nimport './register-service-worker';\nimport 'react-hot-loader';\nimport { hot } from 'react-hot-loader/root';\n// import ReactDOM from '@hot-loader/react-dom';\nimport { Provider } from 'react-redux';\nimport { ReactReduxFirebaseProvider } from 'react-redux-firebase';\nimport { createFirestoreInstance } from 'redux-firestore';\nimport { firebase } from '@firebase/app';\nimport { database } from '@firebase/database';\n\nimport createStore from './store';\nimport { IS_PRODUCTION, VERSION } from './config';\nimport connectFirebase from './firebase';\n\nfunction getAppContainer() {\n  const currentContainer = window.document.getElementById('app');\n  if (currentContainer !== null) {\n    return currentContainer;\n  }\n  const newContainer = document.createElement('div');\n  newContainer.setAttribute('id', 'app');\n  document.body.appendChild(newContainer);\n  return newContainer;\n}\n\n\nconst globalStyle = `\nhtml, body, #app{\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  display: flex;\n}\n#app > * {\n  min-height: 100%;\n  width: 100%;\n}\n`;\n\nconnectFirebase();\n\nfirebase.database().ref('/connect').set({connect:true})\n\n\nconst store = createStore();\n\nconst Main = hot(() => (\n  <Provider store={store}>\n    <ReactReduxFirebaseProvider\n      firebase={firebase}\n      config={{\n        enableLogging: !IS_PRODUCTION,\n      }}\n      createFirestoreInstance={createFirestoreInstance}\n      dispatch={store.dispatch}\n    >\n      <>\n        <App />\n        <style dangerouslySetInnerHTML={{ __html: globalStyle }} />\n      </>\n    </ReactReduxFirebaseProvider>\n  </Provider>\n));\n\nReactDOM.render(<Main />, getAppContainer());\n\nwindow.version = VERSION;\n\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\n\n// reportWebVitals();\n","import { createStore, combineReducers } from 'redux';\n// import { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport { firebaseReducer } from 'react-redux-firebase';\nimport { reduxFirestore, firestoreReducer } from 'redux-firestore';\nimport { firebase } from '@firebase/app';\nimport appReducer from './reducer';\nimport { IS_PRODUCTION } from './config';\n\nexport default () => {\n  const rootReducer = combineReducers({\n    firebase: firebaseReducer,\n    app: appReducer,\n    firestore: firestoreReducer,\n  });\n\n  const store = createStore(\n    rootReducer,\n    // composeWithDevTools(reduxFirestore(firebase))\n  );\n  if (!IS_PRODUCTION) {\n    window.store = store;\n  }\n  return store;\n};\n"],"sourceRoot":""}